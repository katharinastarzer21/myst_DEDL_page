<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>DEDL - HDA Tutorial - Queryables - DEDL notebook gallery</title><meta property="og:title" content="DEDL - HDA Tutorial - Queryables - DEDL notebook gallery"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/b27bd30f978ddf0848f3ea0942070886.jpeg"/><meta property="og:image" content="/build/b27bd30f978ddf0848f3ea0942070886.jpeg"/><link rel="stylesheet" href="/build/_assets/app-SP33RAUV.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3 dark:bg-white dark:rounded"><img src="/build/logo_bar-9ea48f8c354a14e5a5eb8b155000433f.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="DEDL notebook gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">DEDL notebook gallery</a><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="HDA" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">HDA</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmp8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:Rmp8p:" class="pl-3 pr-[2px] collapsible-content"><a title="DestinE Harmonised Data Access (HDA)" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/readme">DestinE Harmonised Data Access (HDA)</a><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="HDA Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200" href="/gallery">HDA Gallery</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1amp8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R1amp8p:" class="pl-3 pr-[2px] collapsible-content"><a title="HDA PySTAC-Client Introduction" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hda-pystac-client">HDA PySTAC-Client Introduction</a><a title="Extreme DT Data Availability" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/extremedt-dataavailability">Extreme DT Data Availability</a><a title="Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-ecmwf-dat-dt-extremes">Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA</a><a title="DEDL - HDA Climate DT Parameter Plotter - Tutorial" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/climatedt-parameterplotter">DEDL - HDA Climate DT Parameter Plotter - Tutorial</a><a title="DEDL - HDA Extreme DT Parameter Plotter - Tutorial" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/extremedt-parameterplotter">DEDL - HDA Extreme DT Parameter Plotter - Tutorial</a><a title="Destination Earth - Climate Change Adaptation Digital Twin Series Plot- Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-ecmwf-dat-dt-climate-series">Destination Earth - Climate Change Adaptation Digital Twin Series Plot- Data Access using DEDL HDA</a><a title="Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-ecmwf-dat-dt-extremes-series">Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA</a><a title="Destination Earth - Climate Change Adaptation Digital Twin - Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-ecmwf-dat-dt-climate">Destination Earth - Climate Change Adaptation Digital Twin - Data Access using DEDL HDA</a><a title="Destination Earth - ERA5 hourly data on single levels from 1940 to present - Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-ecmwf-dat-reanalysis-era5-single-level">Destination Earth - ERA5 hourly data on single levels from 1940 to present - Data Access using DEDL HDA</a><a title="DEDL - EODAG - A quick start with DEDL" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hda-eodag-quick-start">DEDL - EODAG - A quick start with DEDL</a><a title="DEDL - EODAG - DestinE Data Lake Provider (DEDL)" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hda-eodag-full-version">DEDL - EODAG - DestinE Data Lake Provider (DEDL)</a><a title="Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-eum-dat-metop-avhrrl1">Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA</a><a title="Destination Earth - OLCI Level 1B Reduced Resolution - Sentinel-3 - Data Access using DEDL HDA" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-eum-dat-sentinel-3-ol-1-err">Destination Earth - OLCI Level 1B Reduced Resolution - Sentinel-3 - Data Access using DEDL HDA</a><a title="Example of Using HDA to Find and Download Data for Urban Area Monitoring Using Sentinel-1 Data" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-esa-dat-sentinel-1-l1-grd">Example of Using HDA to Find and Download Data for Urban Area Monitoring Using Sentinel-1 Data</a><a title="Example of how to use HDA to find and download data for conducting monitoring of Śniadrwy lake" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/dedl-hda-eo-esa-dat-sentinel-2-msi-l2a">Example of how to use HDA to find and download data for conducting monitoring of Śniadrwy lake</a><a title="DEDL - HDA Tutorial" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hda-rest-full-version">DEDL - HDA Tutorial</a><a title="DEDL - HDA Tutorial - Queryables" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/hda-rest-queryables">DEDL - HDA Tutorial - Queryables</a><a title="DEDL - HDA Tutorial - quick start" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hda-rest-quick-start">DEDL - HDA Tutorial - quick start</a></div></div></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="HOOK" class="block break-words rounded py-2 grow cursor-pointer">HOOK</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rup8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rup8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="STACK" class="block break-words rounded py-2 grow cursor-pointer">STACK</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">DEDL - HDA Tutorial - Queryables</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="k0i9WyVZXq" class="relative group/block"><img id="SLK4mpk8Pe" style="margin:0 auto" src="/build/b27bd30f978ddf0848f3ea0942070886.jpeg" data-canonical-url="https://github.com/destination-earth/DestinE-DataLake-Lab/blob/main/img/DestinE-banner.jpg?raw=true"/></div><div id="FduUkefXP4" class="relative group/block"><h1 id="dedl-hda-tutorial-queryables" class="relative group"><span class="heading-text">DEDL - HDA Tutorial - Queryables</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dedl-hda-tutorial-queryables" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="CNLJUPilbi" class="relative group/block"><p><strong>Author</strong>: EUMETSAT <br/>
<strong>Copyright</strong>: 2024 EUMETSAT <br/>
<strong>Licence</strong>: MIT <br/></p></div><div id="Gncjse05nA" class="relative group/block"><div class="alert alert-block alert-success"><h3 id="how-to-use-the-queryables-api" class="relative group"><span class="heading-text">How to use the queryables API</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-to-use-the-queryables-api" title="Link to this Section" aria-label="Link to this Section">¶</a></h3>The queryables API returns a list of variable terms that can be used for filtering the specified collection.<p>The queryables API presents the appropriate filters for the selected dataset, determined by the chosen values. If the user selects a certain variable, the choice is narrowed down for other variables. This notebook demonstrates how to filter data in a specific collection using the list of variable terms returned by the queryables API.</p><p><strong>The notebook is dedicated to collections from C3S and DestinE digital twins. C3S and DestinE digital twins datasets offer a wide range of possibilities in terms of information and constraints and the queryables API is a valuable tool for exploring these datasets.</strong></p></div></div><div id="L7RfvSKzCl" class="relative group/block"><p>Throughout this notebook, you will learn:</p><ol start="1"><li><span data-state="closed"><a class="hover-link" href="/dedl-hda-eo-eum-dat-metop-avhrrl1#authenticate">Authenticate</a></span>: How to authenticate for searching and access <em>DEDL</em> collections.</li><li><span data-state="closed"><a href="#queryables" class="hover-link">Queryables</a></span>: How to exploit the STAC API filter extension features. The “queryables” API helps users to determine the property names and types available for filtering data.</li><li><span data-state="closed"><a class="hover-link" href="/hda-eodag-full-version#search">Search data</a></span>:  How to search <em>DEDL</em> data using filters obtained by the “queryables” API.</li><li><span data-state="closed"><a class="hover-link" href="/hda-eodag-full-version#download">Download data</a></span>: How to download <em>DEDL</em> data through HDA.</li></ol></div><div id="wHTiRECdNr" class="relative group/block"><p>The detailed HDA API and definition of each endpoint and parameters is available in the HDA Swagger UI at:
<a target="_blank" rel="noreferrer" href="https://hda.data.destination-earth.eu/docs/#/STAC%20API%20-%20Filter%20Extension" class=""> STAC API - Filter Extension </a></p></div><div id="scjbjrCDaW" class="relative group/block"><div class="alert alert-block alert-warning"><strong>Prequisites:</strong><li><p>For queryables API: none</p></li><li><p>For filtering data inside collections : <a target="_blank" rel="noreferrer" href="https://platform.destine.eu/" class="">DestinE user account</a></p></li></div></div><div id="xb7NaIcbkh" class="relative group/block"><h1 id="authenticate" class="relative group"><span class="heading-text">Authenticate</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#authenticate" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><h2 id="define-some-constants-for-the-api-urls" class="relative group"><span class="heading-text">Define some constants for the API URLs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#define-some-constants-for-the-api-urls" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this section, we define the relevant constants, holding the URL strings for the different endpoints.</p></div><div id="R9pGEWB7js" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Collection https://hda.data.destination-earth.eu/ui/dataset/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_FORECASTS as default
COLLECTION_ID = &quot;EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_FORECASTS&quot;

# Core API
HDA_API_URL = &quot;https://hda.data.destination-earth.eu&quot;

# STAC API
## Core
STAC_API_URL = f&quot;{HDA_API_URL}/stac&quot;

## Item Search
SEARCH_URL = f&quot;{STAC_API_URL}/search&quot;

## Collections
COLLECTIONS_URL = f&quot;{STAC_API_URL}/collections&quot;

## Queryables
QUERYABLES_URL = f&quot;{STAC_API_URL}/queryables&quot;
QUERYABLES_BY_COLLECTION_ID = f&quot;{COLLECTIONS_URL}/{COLLECTION_ID}/queryables&quot;
HDA_FILTERS =&#x27;&#x27;

## HTTP Success
HTTP_SUCCESS_CODE = 200</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vv_1qcGyQlk7G29LlZaL7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="fqMocdFYHu" class="relative group/block"><h2 id="import-the-relevant-modules-and-define-some-functions" class="relative group"><span class="heading-text">Import the relevant modules and define some functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#import-the-relevant-modules-and-define-some-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We start off by importing the relevant modules for DestnE authentication, HTTP requests, json handling, widgets and some utility.</p></div><div id="LzNpojAfRj" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import destinelab as deauth</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="H7cGWj0vh9izTM0CScvlf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="V40zHTi4Ca" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pip install --quiet --upgrade DEDLUtils</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="wWDhqb21oIgWjL12h9rjP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Note: you may need to restart the kernel to use updated packages.
</span></code></pre></div></div></div><div id="D6zng479yX" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from DEDLUtils import dedl_utilities
#import dedl_utilities</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="coOsfRdIYmo-CM2nQewtW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pn01EDmNQI" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import requests
import json
from getpass import getpass

import ipywidgets as widgets
from IPython.display import display, clear_output, HTML
from ipywidgets import Layout, Box
import datetime

from rich.console import Console
import rich.table

from IPython.display import JSON
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="h2n3QApyToPnv1kM6UMsl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="eWsTyz6myO" class="relative group/block"><h3 id="obtain-authentication-token" class="relative group"><span class="heading-text">Obtain Authentication Token</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#obtain-authentication-token" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To perform a query on HDA we need to be authenticated.</p></div><div id="IRm5hAJ0Sy" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">DESP_USERNAME = input(&quot;Please input your DESP username or email: &quot;)
DESP_PASSWORD = getpass(&quot;Please input your DESP password: &quot;)

auth = deauth.AuthHandler(DESP_USERNAME, DESP_PASSWORD)
access_token = auth.get_token()
if access_token is not None:
    print(&quot;DEDL/DESP Access Token Obtained Successfully&quot;)
else:
    print(&quot;Failed to Obtain DEDL/DESP Access Token&quot;)

auth_headers = {&quot;Authorization&quot;: f&quot;Bearer {access_token}&quot;}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="wAX-BGNcqEPvmRsRPONC7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Please input your DESP username or email:  eum-dedl-user
Please input your DESP password:  ········
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span>Response code: 200
DEDL/DESP Access Token Obtained Successfully
</span></code></pre></div></div></div><div id="FBiXPLVSHy" class="relative group/block"><h1 id="queryables" class="relative group"><span class="heading-text">Queryables</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#queryables" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>The “queryables” API helps users to determine the property names and types available for filtering data inside a specific collection.</p><p>Below a dropdown menu to choose the collection. We can choose the collection of which we want to inspect the filters.</p></div><div id="J3uLrICb9Z" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">prefix = &quot;EO.ECMWF&quot;

dedlUtils=dedl_utilities.DEDLUtilities(COLLECTION_ID )
dedlUtils.create_collections_dropdown(prefix)

# Layout
# Define the layout for the dropdown
dropdown_layout = Layout(display=&#x27;space-between&#x27;, justify_content=&#x27;center&#x27;, width=&#x27;90%&#x27;)
# Create a box to hold the dropdown with the specified layout
box = Box([dedlUtils.dropdown, dedlUtils.outputArea], layout=dropdown_layout)
display( box)  


</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="OxAPrWMW3s8iPbpFIoIlu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="PCoPHNHFdN" class="relative group/block"><p>The <strong>QUERYABLES ENDPOINT</strong> (above) returns the applicable filters under the section named ‘properties’.</p><p>The ‘properties’ section contains</p><ul><li>the name of the filter, <strong>title</strong>,</li><li>the filter <strong>type</strong>,</li><li>the possible filter values, <strong>enum</strong> (conditioned by the values selected for the other filters)</li><li>and the the default (or chosen) <strong>default</strong> applied</li></ul><p>We can print the’properties’ section for the selected collection in the table below.
The table shows the filters and the values applied by default when we perform a search for the chosen dataset without specifying any filter.</p></div><div id="VekoJa5u1F" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">filters_resp=requests.get(dedlUtils.queryablesByCollectionId)
filters_resp.raise_for_status()

filters = filters_resp.json()[&quot;properties&quot;]
dedlQueryablesUtils=dedl_utilities.DEDLQueryablesUtilities(dedlUtils.collectionId)
console = Console()
console.print(dedlQueryablesUtils.create_queryables_table(filters))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Ow-SuEMXnwOlrpfp-JUq5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="E0E4ZAX4P8" class="relative group/block"><p>Calling the queryables API specifying filters, that means using as parameters the values chosen for filtering the selected dataset, the API replies with the applicable filters, conditioned by the chosen values.
Then if the user selects a certain value for a parameter then the choice is narrowed down for other variables.</p><p>The queryables API, in this way, helps user to build a correct search request for the given dataset.</p><p>Below an interactive example, to see that once you select a value for a property the choice is narrowed down for other variables.</p></div><div id="clzoRxmhQu" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Event listeners
dedlQueryablesUtils=dedl_utilities.DEDLQueryablesUtilities(dedlUtils.collectionId)
dedlQueryablesUtils.update_queryables_dropdowns()
display(dedlQueryablesUtils.dropdownContainer, dedlQueryablesUtils.outputArea)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="VY0QG3Bralr-VpFU2pWcT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Rt3F1WPq0c" class="relative group/block"><h2 id="filtering-a-collection-with-the-list-returned-by-the-queryable-api" class="relative group"><span class="heading-text">Filtering a collection with the list returned by the queryable API</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filtering-a-collection-with-the-list-returned-by-the-queryable-api" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>This section wil show how to use the list of variable terms returned by the queryables API for filtering a specific dataset.</p></div><div id="dMZqPspSZC" class="relative group/block"><h4 id="if-you-choose-a-digital-twins-collection-check-if-the-access-is-granted" class="relative group"><span class="heading-text">If you choose a digital twins collection, check if the access is granted</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#if-you-choose-a-digital-twins-collection-check-if-the-access-is-granted" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>If DT access is not granted, you will not be able to search and access DT data.</p></div><div id="V8CfidNWeq" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">auth.is_DTaccess_allowed(access_token)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="s5bjTvQCkwScshzNJRMbE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>DT Output access allowed
</span></code></pre></div><div class="font-mono text-sm whitespace-pre-wrap"><code><span>True</span></code></div></div></div><div id="F8s38hoEKy" class="relative group/block"><h3 id="build-the-query-from-the-selected-values" class="relative group"><span class="heading-text">Build the query from the selected values</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#build-the-query-from-the-selected-values" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The parameters chosen in the previous steps can be used to build the corresponding HDA queries.</p></div><div id="VCN8ZvFDoD" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># The JSON objects containing the generic query parameters:
jsonGenericQuery = &#x27;{&quot;collections&quot;: [&quot;&#x27;+dedlUtils.collectionId+&#x27;&quot;], &quot;datetime&quot;: &quot;2024-04-01T00:00:00Z/2024-04-19T00:00:00Z&quot;}&#x27;
# Convert JSON strings to Python dictionaries
dictQuery = json.loads(jsonGenericQuery)

# Include the filters selected in the previous steps inside the JSON containing the generic query parameters:
dictQuery[&#x27;query&#x27;] = dedlQueryablesUtils.hdaFilters
# Convert the merged dictionary back to a JSON string
queryJson = json.dumps(dictQuery, indent=4)

print(queryJson)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Yc7r3n-pZyqEtkmrwpdIL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>{
    &quot;collections&quot;: [
        &quot;EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES&quot;
    ],
    &quot;datetime&quot;: &quot;2024-04-01T00:00:00Z/2024-04-19T00:00:00Z&quot;,
    &quot;query&quot;: {
        &quot;ecmwf:variable&quot;: {
            &quot;eq&quot;: &quot;sulphur_dioxide&quot;
        },
        &quot;ecmwf:model&quot;: {
            &quot;eq&quot;: &quot;monarch&quot;
        },
        &quot;ecmwf:level&quot;: {
            &quot;eq&quot;: &quot;5000&quot;
        },
        &quot;ecmwf:type&quot;: {
            &quot;eq&quot;: &quot;interim_reanalysis&quot;
        },
        &quot;ecmwf:year&quot;: {
            &quot;eq&quot;: &quot;2023&quot;
        },
        &quot;ecmwf:month&quot;: {
            &quot;eq&quot;: &quot;03&quot;
        }
    }
}
</span></code></pre></div></div></div><div id="BPGVbcGtoB" class="relative group/block"><h2 id="search" class="relative group"><span class="heading-text">Search</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#search" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="RNWKMvh4Vv" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">response = requests.post(&quot;https://hda.data.destination-earth.eu/stac/search&quot;, headers=auth_headers, json= json.loads(queryJson) )
#print(response)
# Requests to ADS data always return a single item containing all the requested data
product = response.json()[&quot;features&quot;][0]
JSON(product, expanded= False)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mvSYuiaTgTCHa7qNSa2oj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Dj2ndrXFZD" class="relative group/block"><h1 id="download" class="relative group"><span class="heading-text">Download</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#download" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p>Once we have found the product we can download it:</p></div><div id="W2vaMJeTFz" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">download_url = product[&quot;assets&quot;][&quot;downloadLink&quot;][&quot;href&quot;]
print(download_url )</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="0Tpam_Ak-wb4ZiYvR-nR8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES/items/CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc/download?provider=cop_ads&amp;_dc_qs=%257B%2522data_format%2522%253A%2B%2522zip%2522%252C%2B%2522level%2522%253A%2B%25225000%2522%252C%2B%2522model%2522%253A%2B%2522monarch%2522%252C%2B%2522month%2522%253A%2B%252203%2522%252C%2B%2522type%2522%253A%2B%2522interim_reanalysis%2522%252C%2B%2522variable%2522%253A%2B%2522sulphur_dioxide%2522%252C%2B%2522year%2522%253A%2B%25222023%2522%257D
</span></code></pre></div></div></div><div id="kUmxyJ3KnD" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from tqdm import tqdm
import time
import re
direct_download_url=&#x27;&#x27;

response = requests.get(download_url, headers=auth_headers)
if (response.status_code == HTTP_SUCCESS_CODE):
    direct_download_url = product[&#x27;assets&#x27;][&#x27;downloadLink&#x27;][&#x27;href&#x27;]
else:
    print(response.text)


# we poll as long as the data is not ready
if direct_download_url==&#x27;&#x27;:
    while url := response.headers.get(&quot;Location&quot;):
        print(f&quot;order status: {response.json()[&#x27;status&#x27;]}&quot;)
        response = requests.get(url, headers=auth_headers, stream=True)
        response.raise_for_status()

filename = re.findall(&#x27;filename=\&quot;?(.+)\&quot;?&#x27;, response.headers[&quot;Content-Disposition&quot;])[0]
total_size = int(response.headers.get(&quot;content-length&quot;, 0))

print(f&quot;downloading {filename}&quot;)

with tqdm(total=total_size, unit=&quot;B&quot;, unit_scale=True) as progress_bar:
    with open(filename, &#x27;wb&#x27;) as f:
        for data in response.iter_content(1024):
            progress_bar.update(len(data))
            f.write(data)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="k1WqpXzDZ2pc_9hVOwvHK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>{&quot;description&quot;:&quot;Product is not available yet, please try again using given updated location&quot;,&quot;status&quot;:&quot;accepted&quot;,&quot;location&quot;:&quot;https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES/items/CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc/download?_dc_qs=%257B%2522data_format%2522%253A%2B%2522zip%2522%252C%2B%2522level%2522%253A%2B%25225000%2522%252C%2B%2522model%2522%253A%2B%2522monarch%2522%252C%2B%2522month%2522%253A%2B%252203%2522%252C%2B%2522type%2522%253A%2B%2522interim_reanalysis%2522%252C%2B%2522variable%2522%253A%2B%2522sulphur_dioxide%2522%252C%2B%2522year%2522%253A%2B%25222023%2522%257D&amp;processID=cams-europe-air-quality-reanalyses&amp;type=process&amp;jobID=7651cb16-a68a-4715-be53-6e146503dd71&amp;status=accepted&amp;created=2024-12-23T22%3A39%3A45.832302&amp;updated=2024-12-23T22%3A39%3A45.832302&amp;links=%7B%27href%27%3A+%27https%3A%2F%2Fads.atmosphere.copernicus.eu%2Fapi%2Fretrieve%2Fv1%2Fprocesses%2Fcams-europe-air-quality-reanalyses%2Fexecution%27%2C+%27rel%27%3A+%27self%27%7D&amp;links=%7B%27href%27%3A+%27https%3A%2F%2Fads.atmosphere.copernicus.eu%2Fapi%2Fretrieve%2Fv1%2Fjobs%2F7651cb16-a68a-4715-be53-6e146503dd71%27%2C+%27rel%27%3A+%27monitor%27%2C+%27type%27%3A+%27application%2Fjson%27%2C+%27title%27%3A+%27job+status+info%27%7D&amp;metadata=datasetMetadata&amp;metadata=origin&amp;orderId=7651cb16-a68a-4715-be53-6e146503dd71&amp;provider=cop_ads&quot;}
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: accepted
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
order status: running
downloading 553c60c19f8bc485560b5a9f0437995.zip
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span>100%|██████████| 875M/875M [04:28&lt;00:00, 3.27MB/s] 
</span></code></pre></div></div></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/hda-rest-full-version"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">HDA</div>DEDL - HDA Tutorial</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/hda-rest-quick-start"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">HDA</div>DEDL - HDA Tutorial - quick start</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-TMJFFFM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-LMCDRB6W.js"/><link rel="modulepreload" href="/build/_shared/chunk-GOFUXLLW.js"/><link rel="modulepreload" href="/build/routes/$-SJYMRUNJ.js"/><script>window.__remixContext = {"url":"/hda-rest-queryables","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.3.28","options":{"logo":"/build/logo_bar-9ea48f8c354a14e5a5eb8b155000433f.png","style":"/build/custom-13ed3c9c75fef67183011026bbea3bc5.css"},"nav":[],"actions":[],"projects":[{"title":"DEDL notebook gallery","id":"e0a20a08-c498-4ecc-8022-c5f820333f35","toc":[{"file":"README.md"},{"children":[{"file":"HDA/README.md"},{"children":[{"file":"HDA/PySTAC/HDA-PyStac-Client.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ExtremeDT-dataAvailability.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ExtremeDT-ParameterPlotter.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE-Series.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES-Series.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE.ipynb"},{"file":"HDA/CDS_data/DEDL-HDA-EO.ECMWF.DAT.REANALYSIS_ERA5_SINGLE_LEVELS.ipynb"},{"file":"HDA/EODAG/HDA-EODAG-quick-start.ipynb"},{"file":"HDA/EODAG/HDA-EODAG-full-version.ipynb"},{"file":"HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb"},{"file":"HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.SENTINEL-3.OL_1_ERR___.ipynb"},{"file":"HDA/Fresh_Data_Pool/DEDL-HDA-EO.ESA.DAT.SENTINEL-1.L1_GRD.ipynb"},{"file":"HDA/Fresh_Data_Pool/DEDL-HDA-EO.ESA.DAT.SENTINEL-2.MSI.L2A.ipynb"},{"file":"HDA/REST/HDA-REST-full-version.ipynb"},{"file":"HDA/REST/HDA-REST-Queryables.ipynb"},{"file":"HDA/REST/HDA-REST-quick-start.ipynb"}],"file":"HDA/gallery.md"}],"title":"HDA"},{"children":[{"file":"HOOK/README.md"},{"children":[{"file":"HOOK/Tutorial.ipynb"},{"file":"HOOK/DEDL-Hook_access.ipynb"}],"file":"HOOK/gallery.md"}],"title":"HOOK"},{"children":[{"file":"STACK/README.md"},{"children":[{"file":"STACK/STACK-Python-Client-Dask.ipynb"},{"file":"STACK/STACK-Dask-101.ipynb"},{"file":"STACK/ExtremeDT-DataCube.ipynb"},{"file":"STACK/ExtremeDT-DataCube-xViewer.ipynb"},{"file":"STACK/DEDL_StackService_Dask.ipynb"}],"file":"STACK/gallery.md"}],"title":"STACK"}],"thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"HDA"},{"slug":"readme","title":"DestinE Harmonised Data Access (HDA)","description":"","date":"","thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery","title":"HDA Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hda-pystac-client","title":"HDA PySTAC-Client Introduction","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-dataavailability","title":"Extreme DT Data Availability","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-extremes","title":"Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"climatedt-parameterplotter","title":"DEDL - HDA Climate DT Parameter Plotter - Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-parameterplotter","title":"DEDL - HDA Extreme DT Parameter Plotter - Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-climate-series","title":"Destination Earth - Climate Change Adaptation Digital Twin Series Plot- Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-extremes-series","title":"Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-climate","title":"Destination Earth - Climate Change Adaptation Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-reanalysis-era5-single-level","title":"Destination Earth - ERA5 hourly data on single levels from 1940 to present - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-eodag-quick-start","title":"DEDL - EODAG - A quick start with DEDL","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-eodag-full-version","title":"DEDL - EODAG - DestinE Data Lake Provider (DEDL)","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-eum-dat-metop-avhrrl1","title":"Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-eum-dat-sentinel-3-ol-1-err","title":"Destination Earth - OLCI Level 1B Reduced Resolution - Sentinel-3 - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-esa-dat-sentinel-1-l1-grd","title":"Example of Using HDA to Find and Download Data for Urban Area Monitoring Using Sentinel-1 Data","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-esa-dat-sentinel-2-msi-l2a","title":"Example of how to use HDA to find and download data for conducting monitoring of Śniadrwy lake","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-full-version","title":"DEDL - HDA Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-queryables","title":"DEDL - HDA Tutorial - Queryables","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-quick-start","title":"DEDL - HDA Tutorial - quick start","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"HOOK"},{"slug":"readme-1","title":"Hook Service","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-7dce7f54ac7e1a150619b7e67bfe7c9b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery-1","title":"HOOK Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial","title":"DEDL - Hook Tutorial - Data Harvest (data-harvest)","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hook-access","title":"Access to Hook services","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"STACK"},{"slug":"readme-2","title":"STACK Service","description":"","date":"","thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery-2","title":"STACK Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"stack-python-client-dask","title":"STACK service - Python Client Dask","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stack-dask-101","title":"STACK service - Dask 101","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-datacube","title":"Data Cube populated with data obtained from Weather and Geophysical Extremes Digital Twin (DT) - ExtremeDT","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-datacube-xviewer","title":"Create a dashboard based on Data Cube populated with data obtained from Weather and Geophysical Extremes Digital Twin (DT) - ExtremeDT","description":"","date":"","thumbnail":"/build/13671a697054e05ccbcc105d371ab38b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-stackservice-dask","title":"DestinE Data Lake - Stack Service Dask","description":"","date":"","thumbnail":"/build/9aaf3e76d727ec891c8c02168fe0567d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.3.28","options":{"logo":"/build/logo_bar-9ea48f8c354a14e5a5eb8b155000433f.png","style":"/build/custom-13ed3c9c75fef67183011026bbea3bc5.css"},"nav":[],"actions":[],"projects":[{"title":"DEDL notebook gallery","id":"e0a20a08-c498-4ecc-8022-c5f820333f35","toc":[{"file":"README.md"},{"children":[{"file":"HDA/README.md"},{"children":[{"file":"HDA/PySTAC/HDA-PyStac-Client.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ExtremeDT-dataAvailability.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ExtremeDT-ParameterPlotter.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE-Series.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES-Series.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE.ipynb"},{"file":"HDA/CDS_data/DEDL-HDA-EO.ECMWF.DAT.REANALYSIS_ERA5_SINGLE_LEVELS.ipynb"},{"file":"HDA/EODAG/HDA-EODAG-quick-start.ipynb"},{"file":"HDA/EODAG/HDA-EODAG-full-version.ipynb"},{"file":"HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb"},{"file":"HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.SENTINEL-3.OL_1_ERR___.ipynb"},{"file":"HDA/Fresh_Data_Pool/DEDL-HDA-EO.ESA.DAT.SENTINEL-1.L1_GRD.ipynb"},{"file":"HDA/Fresh_Data_Pool/DEDL-HDA-EO.ESA.DAT.SENTINEL-2.MSI.L2A.ipynb"},{"file":"HDA/REST/HDA-REST-full-version.ipynb"},{"file":"HDA/REST/HDA-REST-Queryables.ipynb"},{"file":"HDA/REST/HDA-REST-quick-start.ipynb"}],"file":"HDA/gallery.md"}],"title":"HDA"},{"children":[{"file":"HOOK/README.md"},{"children":[{"file":"HOOK/Tutorial.ipynb"},{"file":"HOOK/DEDL-Hook_access.ipynb"}],"file":"HOOK/gallery.md"}],"title":"HOOK"},{"children":[{"file":"STACK/README.md"},{"children":[{"file":"STACK/STACK-Python-Client-Dask.ipynb"},{"file":"STACK/STACK-Dask-101.ipynb"},{"file":"STACK/ExtremeDT-DataCube.ipynb"},{"file":"STACK/ExtremeDT-DataCube-xViewer.ipynb"},{"file":"STACK/DEDL_StackService_Dask.ipynb"}],"file":"STACK/gallery.md"}],"title":"STACK"}],"thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"HDA"},{"slug":"readme","title":"DestinE Harmonised Data Access (HDA)","description":"","date":"","thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery","title":"HDA Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hda-pystac-client","title":"HDA PySTAC-Client Introduction","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-dataavailability","title":"Extreme DT Data Availability","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-extremes","title":"Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"climatedt-parameterplotter","title":"DEDL - HDA Climate DT Parameter Plotter - Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-parameterplotter","title":"DEDL - HDA Extreme DT Parameter Plotter - Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-climate-series","title":"Destination Earth - Climate Change Adaptation Digital Twin Series Plot- Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-extremes-series","title":"Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-climate","title":"Destination Earth - Climate Change Adaptation Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-reanalysis-era5-single-level","title":"Destination Earth - ERA5 hourly data on single levels from 1940 to present - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-eodag-quick-start","title":"DEDL - EODAG - A quick start with DEDL","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-eodag-full-version","title":"DEDL - EODAG - DestinE Data Lake Provider (DEDL)","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-eum-dat-metop-avhrrl1","title":"Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-eum-dat-sentinel-3-ol-1-err","title":"Destination Earth - OLCI Level 1B Reduced Resolution - Sentinel-3 - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-esa-dat-sentinel-1-l1-grd","title":"Example of Using HDA to Find and Download Data for Urban Area Monitoring Using Sentinel-1 Data","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-esa-dat-sentinel-2-msi-l2a","title":"Example of how to use HDA to find and download data for conducting monitoring of Śniadrwy lake","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-full-version","title":"DEDL - HDA Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-queryables","title":"DEDL - HDA Tutorial - Queryables","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-quick-start","title":"DEDL - HDA Tutorial - quick start","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"HOOK"},{"slug":"readme-1","title":"Hook Service","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-7dce7f54ac7e1a150619b7e67bfe7c9b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery-1","title":"HOOK Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial","title":"DEDL - Hook Tutorial - Data Harvest (data-harvest)","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hook-access","title":"Access to Hook services","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"STACK"},{"slug":"readme-2","title":"STACK Service","description":"","date":"","thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery-2","title":"STACK Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"stack-python-client-dask","title":"STACK service - Python Client Dask","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stack-dask-101","title":"STACK service - Dask 101","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-datacube","title":"Data Cube populated with data obtained from Weather and Geophysical Extremes Digital Twin (DT) - ExtremeDT","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-datacube-xviewer","title":"Create a dashboard based on Data Cube populated with data obtained from Weather and Geophysical Extremes Digital Twin (DT) - ExtremeDT","description":"","date":"","thumbnail":"/build/13671a697054e05ccbcc105d371ab38b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-stackservice-dask","title":"DestinE Data Lake - Stack Service Dask","description":"","date":"","thumbnail":"/build/9aaf3e76d727ec891c8c02168fe0567d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"page":{"version":2,"kind":"Notebook","sha256":"727f6b9ab0c7c0b93e2a642d92554c70d08155a074aff33dd8c851eb5c27b5c5","slug":"hda-rest-queryables","location":"/HDA/REST/HDA-REST-Queryables.ipynb","dependencies":[],"frontmatter":{"title":"DEDL - HDA Tutorial - Queryables","content_includes_title":true,"kernelspec":{"name":"python_dedl","display_name":"Python DEDL","language":"python"},"numbering":{"title":{"offset":2}},"thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","exports":[{"format":"ipynb","filename":"HDA-REST-Queryables.ipynb","url":"/build/HDA-REST-Queryables-8f91b948c9e492081871ed953da0e348.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"image","url":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SLK4mpk8Pe","urlSource":"https://github.com/destination-earth/DestinE-DataLake-Lab/blob/main/img/DestinE-banner.jpg?raw=true"}],"visibility":"show","key":"k0i9WyVZXq"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"DEDL - HDA Tutorial - Queryables","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MQ2Q9fiVOp"}],"identifier":"dedl-hda-tutorial-queryables","label":"DEDL - HDA Tutorial - Queryables","html_id":"dedl-hda-tutorial-queryables","implicit":true,"key":"yeaVqpQsq9"}],"visibility":"show","key":"FduUkefXP4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Author","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O2hHceVUYj"}],"key":"eBgPC8omie"},{"type":"text","value":": EUMETSAT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hpEMFfQMPL"},{"type":"break","key":"eL8WWrDCKK"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bpK2AQmVue"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Copyright","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tzuBqzDZvA"}],"key":"xUzMFwaQQk"},{"type":"text","value":": 2024 EUMETSAT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JHO2RcaYfX"},{"type":"break","key":"iW1WE2guww"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t0SBWmLVoZ"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Licence","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QiII4WFede"}],"key":"GAApUvpWva"},{"type":"text","value":": MIT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jzCQGQGIkm"},{"type":"break","key":"qIyWOoMndw"}],"key":"dA0qyQmNXg"}],"key":"CNLJUPilbi"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-success","children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"How to use the queryables API","key":"BF8123KmBS"}],"identifier":"how-to-use-the-queryables-api","label":"How to use the queryables API","html_id":"how-to-use-the-queryables-api","implicit":true,"key":"QsT8G4V9v3"},{"type":"text","value":"The queryables API returns a list of variable terms that can be used for filtering the specified collection.","key":"o01ozGE4wC"},{"type":"paragraph","children":[{"type":"text","value":"The queryables API presents the appropriate filters for the selected dataset, determined by the chosen values. If the user selects a certain variable, the choice is narrowed down for other variables. This notebook demonstrates how to filter data in a specific collection using the list of variable terms returned by the queryables API.","key":"DZeDrpoBmj"}],"key":"FbsExWHvon"},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"The notebook is dedicated to collections from C3S and DestinE digital twins. C3S and DestinE digital twins datasets offer a wide range of possibilities in terms of information and constraints and the queryables API is a valuable tool for exploring these datasets.","key":"JzIHc7DmEQ"}],"key":"iE8NCaPSP1"}],"key":"mlxJt420TB"}],"key":"fwpYVdK3FF"}],"key":"Gncjse05nA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Throughout this notebook, you will learn:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dYHPuP159K"}],"key":"Ut7BLWDCvG"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Authenticate","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iN1MbhOeKs"}],"identifier":"authenticate","label":"Authenticate","kind":"heading","template":"{name}","resolved":true,"html_id":"authenticate","remote":true,"url":"/dedl-hda-eo-eum-dat-metop-avhrrl1","dataUrl":"/dedl-hda-eo-eum-dat-metop-avhrrl1.json","key":"KeQNzsC0GK"},{"type":"text","value":": How to authenticate for searching and access ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CEtXx0F7Th"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"k2ZSDvOUCF"}],"key":"z2q2o080rK"},{"type":"text","value":" collections.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZU4NuV0bXX"}],"key":"D0N1cIBJTD"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Queryables","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gCBYshaYvd"}],"identifier":"queryables","label":"Queryables","kind":"heading","template":"{name}","resolved":true,"html_id":"queryables","key":"hXS2xWsYAq"},{"type":"text","value":": How to exploit the STAC API filter extension features. The “queryables” API helps users to determine the property names and types available for filtering data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FOkGkvOO26"}],"key":"JlyHPYEI1o"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Search data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ikZgfO3jQw"}],"identifier":"search","label":"Search","kind":"heading","template":"{name}","resolved":true,"html_id":"search","remote":true,"url":"/hda-eodag-full-version","dataUrl":"/hda-eodag-full-version.json","key":"mc8Nm97j1T"},{"type":"text","value":":  How to search ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Bb4xK8sMyM"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MKg5YXhId7"}],"key":"LC7WQ1T1qo"},{"type":"text","value":" data using filters obtained by the “queryables” API.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Pm97YrPHXT"}],"key":"piwVphzkf9"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Download data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KFrMBO9ZF5"}],"identifier":"download","label":"Download","kind":"heading","template":"{name}","resolved":true,"html_id":"download","remote":true,"url":"/hda-eodag-full-version","dataUrl":"/hda-eodag-full-version.json","key":"b3FLBmWWg5"},{"type":"text","value":": How to download ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"DaWmnLFfDX"},{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wNGsKTqvyz"}],"key":"g0NbkbpSOx"},{"type":"text","value":" data through HDA.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JLOqZSBCq5"}],"key":"EVj6gt9RIe"}],"key":"RlCIWntKKr"}],"key":"L7RfvSKzCl"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The detailed HDA API and definition of each endpoint and parameters is available in the HDA Swagger UI at:\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oxTHNseMgR"},{"type":"link","url":"https://hda.data.destination-earth.eu/docs/#/STAC%20API%20-%20Filter%20Extension","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":" STAC API - Filter Extension ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I48VgcSTq9"}],"urlSource":"https://hda.data.destination-earth.eu/docs/#/STAC%20API%20-%20Filter%20Extension","key":"SqOhcnRc0Y"}],"key":"DLpLxpd7mM"}],"key":"wHTiRECdNr"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Prequisites:","key":"qRgt7j0AoS"}],"key":"pmTBbG0Wth"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"For queryables API: none","key":"XBGGLsqM68"}],"key":"olBn0tVcZA"}],"key":"Gera7rftHS"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"For filtering data inside collections : ","key":"vJ6mJGealS"},{"type":"link","url":"https://platform.destine.eu/","children":[{"type":"text","value":"DestinE user account","key":"YZRIAdCQBE"}],"urlSource":"https://platform.destine.eu/","key":"GjVO5o5n8R"}],"key":"jtjEofBh9M"}],"key":"pyqiZYZ2Mp"}],"key":"c0Zzorhc9K"}],"key":"scjbjrCDaW"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Authenticate","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QRe0Ul7Fj4"}],"identifier":"authenticate","label":"Authenticate","html_id":"authenticate","implicit":true,"key":"q0pR3emp4G"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Define some constants for the API URLs","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"glYE4o9BUV"}],"identifier":"define-some-constants-for-the-api-urls","label":"Define some constants for the API URLs","html_id":"define-some-constants-for-the-api-urls","implicit":true,"key":"bySPsKU1R6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this section, we define the relevant constants, holding the URL strings for the different endpoints.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EftmSHrKpF"}],"key":"gsXXVbZK2L"}],"visibility":"show","key":"xb7NaIcbkh"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Collection https://hda.data.destination-earth.eu/ui/dataset/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_FORECASTS as default\nCOLLECTION_ID = \"EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_FORECASTS\"\n\n# Core API\nHDA_API_URL = \"https://hda.data.destination-earth.eu\"\n\n# STAC API\n## Core\nSTAC_API_URL = f\"{HDA_API_URL}/stac\"\n\n## Item Search\nSEARCH_URL = f\"{STAC_API_URL}/search\"\n\n## Collections\nCOLLECTIONS_URL = f\"{STAC_API_URL}/collections\"\n\n## Queryables\nQUERYABLES_URL = f\"{STAC_API_URL}/queryables\"\nQUERYABLES_BY_COLLECTION_ID = f\"{COLLECTIONS_URL}/{COLLECTION_ID}/queryables\"\nHDA_FILTERS =''\n\n## HTTP Success\nHTTP_SUCCESS_CODE = 200","visibility":"show","key":"NqcGsrAOcU"},{"type":"output","id":"vv_1qcGyQlk7G29LlZaL7","data":[],"visibility":"show","key":"TnRC2cvJZ7"}],"visibility":"show","key":"R9pGEWB7js"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import the relevant modules and define some functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MtnZM2h6OZ"}],"identifier":"import-the-relevant-modules-and-define-some-functions","label":"Import the relevant modules and define some functions","html_id":"import-the-relevant-modules-and-define-some-functions","implicit":true,"key":"vNVeNnkIFr"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We start off by importing the relevant modules for DestnE authentication, HTTP requests, json handling, widgets and some utility.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"b5vtniENAm"}],"key":"lULTZNz3FV"}],"visibility":"show","key":"fqMocdFYHu"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import destinelab as deauth","visibility":"show","key":"iYUOSX5vtq"},{"type":"output","id":"H7cGWj0vh9izTM0CScvlf","data":[],"visibility":"show","key":"K6CnvSVNOC"}],"visibility":"show","key":"LzNpojAfRj"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"pip install --quiet --upgrade DEDLUtils","visibility":"show","key":"JDwRsAceGs"},{"type":"output","id":"wWDhqb21oIgWjL12h9rjP","data":[{"name":"stdout","output_type":"stream","text":"Note: you may need to restart the kernel to use updated packages.\n"}],"visibility":"show","key":"JpJgpBqVp4"}],"visibility":"show","key":"V40zHTi4Ca"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from DEDLUtils import dedl_utilities\n#import dedl_utilities","visibility":"show","key":"UJz1GWpvcz"},{"type":"output","id":"coOsfRdIYmo-CM2nQewtW","data":[],"visibility":"show","key":"I5PSIQdRtT"}],"visibility":"show","key":"D6zng479yX"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import requests\nimport json\nfrom getpass import getpass\n\nimport ipywidgets as widgets\nfrom IPython.display import display, clear_output, HTML\nfrom ipywidgets import Layout, Box\nimport datetime\n\nfrom rich.console import Console\nimport rich.table\n\nfrom IPython.display import JSON\n","visibility":"show","key":"fACoTBfaAN"},{"type":"output","id":"h2n3QApyToPnv1kM6UMsl","data":[],"visibility":"show","key":"wgSwRU3Xzc"}],"visibility":"show","key":"pn01EDmNQI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Authentication Token","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GgdmAQhh4U"}],"identifier":"obtain-authentication-token","label":"Obtain Authentication Token","html_id":"obtain-authentication-token","implicit":true,"key":"QEXtOJQX2X"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To perform a query on HDA we need to be authenticated.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dNU9a0apsU"}],"key":"gPBYe0LDtb"}],"key":"eWsTyz6myO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"DESP_USERNAME = input(\"Please input your DESP username or email: \")\nDESP_PASSWORD = getpass(\"Please input your DESP password: \")\n\nauth = deauth.AuthHandler(DESP_USERNAME, DESP_PASSWORD)\naccess_token = auth.get_token()\nif access_token is not None:\n    print(\"DEDL/DESP Access Token Obtained Successfully\")\nelse:\n    print(\"Failed to Obtain DEDL/DESP Access Token\")\n\nauth_headers = {\"Authorization\": f\"Bearer {access_token}\"}","visibility":"show","key":"c3UZepD4OV"},{"type":"output","id":"wAX-BGNcqEPvmRsRPONC7","data":[{"name":"stdin","output_type":"stream","text":"Please input your DESP username or email:  eum-dedl-user\nPlease input your DESP password:  ········\n"},{"name":"stdout","output_type":"stream","text":"Response code: 200\nDEDL/DESP Access Token Obtained Successfully\n"}],"visibility":"show","key":"A1BWAH1xt7"}],"visibility":"show","key":"IRm5hAJ0Sy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Queryables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JlOywYic2t"}],"identifier":"queryables","label":"Queryables","html_id":"queryables","implicit":true,"key":"Ca2kmjC4cU"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The “queryables” API helps users to determine the property names and types available for filtering data inside a specific collection.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qZ9bZ8xovB"}],"key":"KCai8E22ZV"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Below a dropdown menu to choose the collection. We can choose the collection of which we want to inspect the filters.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uMgMF8Kcgj"}],"key":"O1EfIwtn4r"}],"key":"FBiXPLVSHy"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"prefix = \"EO.ECMWF\"\n\ndedlUtils=dedl_utilities.DEDLUtilities(COLLECTION_ID )\ndedlUtils.create_collections_dropdown(prefix)\n\n# Layout\n# Define the layout for the dropdown\ndropdown_layout = Layout(display='space-between', justify_content='center', width='90%')\n# Create a box to hold the dropdown with the specified layout\nbox = Box([dedlUtils.dropdown, dedlUtils.outputArea], layout=dropdown_layout)\ndisplay( box)  \n\n\n","visibility":"show","key":"XDWCj15dYd"},{"type":"output","id":"OxAPrWMW3s8iPbpFIoIlu","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"fe86009fe262461ca7488d643a7249c9\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Box(children=(Dropdown(description='Collections:', options=('EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_FORECASTS', …","content_type":"text/plain"}}}],"visibility":"show","key":"UkMS6NKJM0"}],"visibility":"show","key":"J3uLrICb9Z"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eZJPutrgg0"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"QUERYABLES ENDPOINT","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hHSjVXRoko"}],"key":"PWX8k8ie7H"},{"type":"text","value":" (above) returns the applicable filters under the section named ‘properties’.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B6o5nFQLQK"}],"key":"HUXw06LSlk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ‘properties’ section contains","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SOJcn4zhDC"}],"key":"p1NsKAYKup"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"the name of the filter, ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"KxKQOBACEI"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"title","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LPio1Tt9TC"}],"key":"U31HGh2CEZ"},{"type":"text","value":",","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qqCwQmGwZh"}],"key":"Dcqj5ROmUG"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"the filter ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DY4aIr1Wm4"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"type","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tb56aVScto"}],"key":"yZjJfBymPT"},{"type":"text","value":",","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gHlitvZxin"}],"key":"NV8xK84ZO7"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"the possible filter values, ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yAo1bahRus"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"enum","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"dCGqQ1fzHI"}],"key":"oD8tqnBX40"},{"type":"text","value":" (conditioned by the values selected for the other filters)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"eYE2QnVGiI"}],"key":"qjLDhASqaE"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"and the the default (or chosen) ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"y9rw4sPI3i"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"default","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"w7IfVv7uvt"}],"key":"hOhh4qg6oQ"},{"type":"text","value":" applied","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yP5193kVVy"}],"key":"cYD9NdYwGD"}],"key":"AyXTwEP75k"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"We can print the’properties’ section for the selected collection in the table below.\nThe table shows the filters and the values applied by default when we perform a search for the chosen dataset without specifying any filter.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Lx7FwlbTVC"}],"key":"Y0pf4IKyu3"}],"key":"PCoPHNHFdN"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"filters_resp=requests.get(dedlUtils.queryablesByCollectionId)\nfilters_resp.raise_for_status()\n\nfilters = filters_resp.json()[\"properties\"]\ndedlQueryablesUtils=dedl_utilities.DEDLQueryablesUtilities(dedlUtils.collectionId)\nconsole = Console()\nconsole.print(dedlQueryablesUtils.create_queryables_table(filters))","visibility":"show","key":"I2QbDlxhXt"},{"type":"output","id":"Ow-SuEMXnwOlrpfp-JUq5","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cpre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"\u003e\u003cspan style=\"font-style: italic\"\u003e                                                Applicable filters                                                 \u003c/span\u003e\n┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃\u003cspan style=\"font-weight: bold\"\u003e          Title \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e     Type \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e                                                       enum \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e                default \u003c/span\u003e┃\n┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━┩\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e       variable \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"string\" \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e  ammonia , carbon_monoxide , dust , formaldehyde , glyoxal \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e     \"nitrogen_dioxide\" \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e  , nitrogen_dioxide , nitrogen_monoxide , non_methane_vocs \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        , ozone , particulate_matter_10um , \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e           particulate_matter_2.5um , peroxyacyl_nitrates , \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e           pm10_wildfires , residential_elementary_carbon , \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e            secondary_inorganic_aerosol , sulphur_dioxide , \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                                    total_elementary_carbon \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e          model \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"string\" \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e chimere , dehm , emep , ensemble , euradim , gemaq , lotos \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e             \"ensemble\" \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                 , match , minni , mocage , monarch , silam \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e          level \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"string\" \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e 0 , 100 , 1000 , 2000 , 250 , 3000 , 50 , 500 , 5000 , 750 \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e           type \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"string\" \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                  interim_reanalysis , validated_reanalysis \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"validated_reanalysis\" \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e           year \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"string\" \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e    2013 , 2014 , 2015 , 2016 , 2017 , 2018 , 2019 , 2020 , \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e                \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                                         2021 , 2022 , 2023 \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e          month \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"string\" \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e  01 , 02 , 03 , 04 , 05 , 06 , 07 , 08 , 09 , 10 , 11 , 12 \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                        \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e start_datetime \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                                                            \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e \"2013-01-01T00:00:00Z\" \u003c/span\u003e│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u003cspan style=\"color: #008080; text-decoration-color: #008080\"\u003e   end_datetime \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e          \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e                                                            \u003c/span\u003e│\u003cspan style=\"color: #d787ff; text-decoration-color: #d787ff\"\u003e  \"2013-01-02T00:00:00\" \u003c/span\u003e│\n└────────────────┴──────────┴────────────────────────────────────────────────────────────┴────────────────────────┘\n\u003c/pre\u003e\n","content_type":"text/html"},"text/plain":{"content":"\u001b[3m                                                Applicable filters                                                 \u001b[0m\n┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃\u001b[1m \u001b[0m\u001b[1m         Title\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1m    Type\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1m                                                      enum\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1m               default\u001b[0m\u001b[1m \u001b[0m┃\n┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━┩\n│\u001b[36m \u001b[0m\u001b[36m      variable\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"string\"\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m ammonia , carbon_monoxide , dust , formaldehyde , glyoxal\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m    \"nitrogen_dioxide\"\u001b[0m\u001b[38;5;177m \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m , nitrogen_dioxide , nitrogen_monoxide , non_methane_vocs\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                       , ozone , particulate_matter_10um ,\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m          particulate_matter_2.5um , peroxyacyl_nitrates ,\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m          pm10_wildfires , residential_elementary_carbon ,\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m           secondary_inorganic_aerosol , sulphur_dioxide ,\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                                   total_elementary_carbon\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36m         model\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"string\"\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177mchimere , dehm , emep , ensemble , euradim , gemaq , lotos\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m            \"ensemble\"\u001b[0m\u001b[38;5;177m \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                , match , minni , mocage , monarch , silam\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36m         level\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"string\"\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m0 , 100 , 1000 , 2000 , 250 , 3000 , 50 , 500 , 5000 , 750\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                      \u001b[0m\u001b[38;5;177m \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36m          type\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"string\"\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                 interim_reanalysis , validated_reanalysis\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"validated_reanalysis\"\u001b[0m\u001b[38;5;177m \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36m          year\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"string\"\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m   2013 , 2014 , 2015 , 2016 , 2017 , 2018 , 2019 , 2020 ,\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                      \u001b[0m\u001b[38;5;177m \u001b[0m│\n│\u001b[36m                \u001b[0m│\u001b[38;5;177m          \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                                        2021 , 2022 , 2023\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m                        \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36m         month\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"string\"\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m 01 , 02 , 03 , 04 , 05 , 06 , 07 , 08 , 09 , 10 , 11 , 12\u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                      \u001b[0m\u001b[38;5;177m \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36mstart_datetime\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m        \u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                                                          \u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m\"2013-01-01T00:00:00Z\"\u001b[0m\u001b[38;5;177m \u001b[0m│\n├────────────────┼──────────┼────────────────────────────────────────────────────────────┼────────────────────────┤\n│\u001b[36m \u001b[0m\u001b[36m  end_datetime\u001b[0m\u001b[36m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m        \u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m                                                          \u001b[0m\u001b[38;5;177m \u001b[0m│\u001b[38;5;177m \u001b[0m\u001b[38;5;177m \"2013-01-02T00:00:00\"\u001b[0m\u001b[38;5;177m \u001b[0m│\n└────────────────┴──────────┴────────────────────────────────────────────────────────────┴────────────────────────┘\n","content_type":"text/plain"}}}],"visibility":"show","key":"nQhD81ZxOA"}],"visibility":"show","key":"VekoJa5u1F"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Calling the queryables API specifying filters, that means using as parameters the values chosen for filtering the selected dataset, the API replies with the applicable filters, conditioned by the chosen values.\nThen if the user selects a certain value for a parameter then the choice is narrowed down for other variables.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sD87JQSPZJ"}],"key":"DhdCZoOS6d"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The queryables API, in this way, helps user to build a correct search request for the given dataset.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kZX5OnDzKy"}],"key":"nYH0S30TQ0"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Below an interactive example, to see that once you select a value for a property the choice is narrowed down for other variables.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"R6PAiyIlzi"}],"key":"JETm2Cxmnv"}],"key":"E0E4ZAX4P8"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Event listeners\ndedlQueryablesUtils=dedl_utilities.DEDLQueryablesUtilities(dedlUtils.collectionId)\ndedlQueryablesUtils.update_queryables_dropdowns()\ndisplay(dedlQueryablesUtils.dropdownContainer, dedlQueryablesUtils.outputArea)","visibility":"show","key":"MIknxCDrjk"},{"type":"output","id":"VY0QG3Bralr-VpFU2pWcT","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"8ef7d5182401499686939981590c7590\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"VBox(children=(Dropdown(description='ecmwf:variable', options=('', 'ammonia', 'carbon_monoxide', 'dust', 'form…","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"adf37e57c0914f02a29fc5efa255df33\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Output()","content_type":"text/plain"}}}],"visibility":"show","key":"jE3pXDLSOm"}],"visibility":"show","key":"clzoRxmhQu"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filtering a collection with the list returned by the queryable API","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uPfWUxUPDa"}],"identifier":"filtering-a-collection-with-the-list-returned-by-the-queryable-api","label":"Filtering a collection with the list returned by the queryable API","html_id":"filtering-a-collection-with-the-list-returned-by-the-queryable-api","implicit":true,"key":"pU8mreZe8E"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This section wil show how to use the list of variable terms returned by the queryables API for filtering a specific dataset.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Gd1WuPzPGe"}],"key":"VdftuFB6in"}],"visibility":"show","key":"Rt3F1WPq0c"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If you choose a digital twins collection, check if the access is granted","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IoAuLYoaez"}],"identifier":"if-you-choose-a-digital-twins-collection-check-if-the-access-is-granted","label":"If you choose a digital twins collection, check if the access is granted","html_id":"if-you-choose-a-digital-twins-collection-check-if-the-access-is-granted","implicit":true,"key":"Thxe80YDPz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If DT access is not granted, you will not be able to search and access DT data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mTRAZx7S31"}],"key":"mZBqAlcED1"}],"key":"dMZqPspSZC"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"auth.is_DTaccess_allowed(access_token)","visibility":"show","key":"aFtXYKEQSB"},{"type":"output","id":"s5bjTvQCkwScshzNJRMbE","data":[{"name":"stdout","output_type":"stream","text":"DT Output access allowed\n"},{"output_type":"execute_result","execution_count":43,"metadata":{},"data":{"text/plain":{"content":"True","content_type":"text/plain"}}}],"visibility":"show","key":"tzSDlJpT6l"}],"visibility":"show","key":"V8CfidNWeq"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Build the query from the selected values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dQcrgeo7xX"}],"identifier":"build-the-query-from-the-selected-values","label":"Build the query from the selected values","html_id":"build-the-query-from-the-selected-values","implicit":true,"key":"gJ9dLrNG6y"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The parameters chosen in the previous steps can be used to build the corresponding HDA queries.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XamehDF1NG"}],"key":"blhe959pLQ"}],"visibility":"show","key":"F8s38hoEKy"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# The JSON objects containing the generic query parameters:\njsonGenericQuery = '{\"collections\": [\"'+dedlUtils.collectionId+'\"], \"datetime\": \"2024-04-01T00:00:00Z/2024-04-19T00:00:00Z\"}'\n# Convert JSON strings to Python dictionaries\ndictQuery = json.loads(jsonGenericQuery)\n\n# Include the filters selected in the previous steps inside the JSON containing the generic query parameters:\ndictQuery['query'] = dedlQueryablesUtils.hdaFilters\n# Convert the merged dictionary back to a JSON string\nqueryJson = json.dumps(dictQuery, indent=4)\n\nprint(queryJson)","visibility":"show","key":"fopWjlJaZE"},{"type":"output","id":"Yc7r3n-pZyqEtkmrwpdIL","data":[{"name":"stdout","output_type":"stream","text":"{\n    \"collections\": [\n        \"EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\"\n    ],\n    \"datetime\": \"2024-04-01T00:00:00Z/2024-04-19T00:00:00Z\",\n    \"query\": {\n        \"ecmwf:variable\": {\n            \"eq\": \"sulphur_dioxide\"\n        },\n        \"ecmwf:model\": {\n            \"eq\": \"monarch\"\n        },\n        \"ecmwf:level\": {\n            \"eq\": \"5000\"\n        },\n        \"ecmwf:type\": {\n            \"eq\": \"interim_reanalysis\"\n        },\n        \"ecmwf:year\": {\n            \"eq\": \"2023\"\n        },\n        \"ecmwf:month\": {\n            \"eq\": \"03\"\n        }\n    }\n}\n"}],"visibility":"show","key":"UOb1ibKUZ0"}],"visibility":"show","key":"VCN8ZvFDoD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IFRlBYjSYc"}],"identifier":"search","label":"Search","html_id":"search","implicit":true,"key":"ydjui8MUE1"}],"key":"BPGVbcGtoB"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"response = requests.post(\"https://hda.data.destination-earth.eu/stac/search\", headers=auth_headers, json= json.loads(queryJson) )\n#print(response)\n# Requests to ADS data always return a single item containing all the requested data\nproduct = response.json()[\"features\"][0]\nJSON(product, expanded= False)","visibility":"show","key":"Lkt6JvTtPg"},{"type":"output","id":"mvSYuiaTgTCHa7qNSa2oj","data":[{"output_type":"execute_result","execution_count":21,"metadata":{"application/json":{"expanded":false,"root":"root"}},"data":{"application/json":{"content":"{\"assets\":{\"downloadLink\":{\"alternate\":{\"origin\":{\"href\":\"Not Available#?_dc_qs=%7B%22data_format%22%3A+%22zip%22%2C+%22level%22%3A+%225000%22%2C+%22model%22%3A+%22monarch%22%2C+%22month%22%3A+%2203%22%2C+%22type%22%3A+%22interim_reanalysis%22%2C+%22variable%22%3A+%22sulphur_dioxide%22%2C+%22year%22%3A+%222023%22%7D\",\"title\":\"Origin asset link\"}},\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES/items/CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc/download?provider=cop_ads\u0026_dc_qs=%257B%2522data_format%2522%253A%2B%2522zip%2522%252C%2B%2522level%2522%253A%2B%25225000%2522%252C%2B%2522model%2522%253A%2B%2522monarch%2522%252C%2B%2522month%2522%253A%2B%252203%2522%252C%2B%2522type%2522%253A%2B%2522interim_reanalysis%2522%252C%2B%2522variable%2522%253A%2B%2522sulphur_dioxide%2522%252C%2B%2522year%2522%253A%2B%25222023%2522%257D\",\"storage:tier\":\"OFFLINE\",\"title\":\"Download link\",\"type\":\"application/zip\"}},\"bbox\":[-180,-90,180,90],\"collection\":\"EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\",\"geometry\":{\"coordinates\":[[[180,-90],[180,90],[-180,90],[-180,-90],[180,-90]]],\"type\":\"Polygon\"},\"id\":\"CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc\",\"links\":[{\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES/items/CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc?provider=cop_ads\u0026_dc_qs=%257B%2522data_format%2522%253A%2B%2522zip%2522%252C%2B%2522level%2522%253A%2B%25225000%2522%252C%2B%2522model%2522%253A%2B%2522monarch%2522%252C%2B%2522month%2522%253A%2B%252203%2522%252C%2B%2522type%2522%253A%2B%2522interim_reanalysis%2522%252C%2B%2522variable%2522%253A%2B%2522sulphur_dioxide%2522%252C%2B%2522year%2522%253A%2B%25222023%2522%257D\",\"rel\":\"self\",\"title\":\"CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/\",\"rel\":\"root\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\",\"rel\":\"parent\",\"title\":\"EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\",\"rel\":\"collection\",\"title\":\"EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\"}],\"properties\":{\"cop_ads:alias\":\"EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES\",\"cop_ads:scope\":{\"discover\":null,\"download\":\"hda-public-data-access\",\"search\":\"hda-public-data-access\"},\"datetime\":\"2024-04-01\",\"ecmwf:data_format\":\"zip\",\"ecmwf:dataset\":\"cams-europe-air-quality-reanalyses\",\"ecmwf:level\":5000,\"ecmwf:model\":\"monarch\",\"ecmwf:month\":\"03\",\"ecmwf:type\":\"interim_reanalysis\",\"ecmwf:variable\":\"sulphur_dioxide\",\"ecmwf:year\":2023,\"end_datetime\":\"2024-04-18\",\"instruments\":[null],\"license\":\"proprietary\",\"order:status\":\"orderable\",\"providers\":[{\"description\":\"Copernicus Atmosphere Data Store\",\"name\":\"cop_ads\",\"priority\":0,\"roles\":[\"host\"],\"url\":\"https://ads.atmosphere.copernicus.eu/\"}],\"sar:product_type\":\"CAMS_EU_AIR_QUALITY_RE\",\"start_datetime\":\"2024-04-01\"},\"stac_extensions\":[\"https://stac-extensions.github.io/sar/v1.0.0/schema.json\",\"https://stac-extensions.github.io/order/v1.1.0/schema.json\"],\"stac_version\":\"1.0.0\",\"type\":\"Feature\"}","content_type":"application/json"},"text/plain":{"content":"\u003cIPython.core.display.JSON object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"ausG6edIDa"}],"visibility":"show","key":"RNWKMvh4Vv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EseDFjBF9Y"}],"identifier":"download","label":"Download","html_id":"download","implicit":true,"key":"WQeRJwEFMD"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Once we have found the product we can download it:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Ezp31Pws6N"}],"key":"IhZB37qXLy"}],"key":"Dj2ndrXFZD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"download_url = product[\"assets\"][\"downloadLink\"][\"href\"]\nprint(download_url )","visibility":"show","key":"LNjkIXty0V"},{"type":"output","id":"0Tpam_Ak-wb4ZiYvR-nR8","data":[{"name":"stdout","output_type":"stream","text":"https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES/items/CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc/download?provider=cop_ads\u0026_dc_qs=%257B%2522data_format%2522%253A%2B%2522zip%2522%252C%2B%2522level%2522%253A%2B%25225000%2522%252C%2B%2522model%2522%253A%2B%2522monarch%2522%252C%2B%2522month%2522%253A%2B%252203%2522%252C%2B%2522type%2522%253A%2B%2522interim_reanalysis%2522%252C%2B%2522variable%2522%253A%2B%2522sulphur_dioxide%2522%252C%2B%2522year%2522%253A%2B%25222023%2522%257D\n"}],"visibility":"show","key":"GoEHbvzqix"}],"visibility":"show","key":"W2vaMJeTFz"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from tqdm import tqdm\nimport time\nimport re\ndirect_download_url=''\n\nresponse = requests.get(download_url, headers=auth_headers)\nif (response.status_code == HTTP_SUCCESS_CODE):\n    direct_download_url = product['assets']['downloadLink']['href']\nelse:\n    print(response.text)\n\n\n# we poll as long as the data is not ready\nif direct_download_url=='':\n    while url := response.headers.get(\"Location\"):\n        print(f\"order status: {response.json()['status']}\")\n        response = requests.get(url, headers=auth_headers, stream=True)\n        response.raise_for_status()\n\nfilename = re.findall('filename=\\\"?(.+)\\\"?', response.headers[\"Content-Disposition\"])[0]\ntotal_size = int(response.headers.get(\"content-length\", 0))\n\nprint(f\"downloading {filename}\")\n\nwith tqdm(total=total_size, unit=\"B\", unit_scale=True) as progress_bar:\n    with open(filename, 'wb') as f:\n        for data in response.iter_content(1024):\n            progress_bar.update(len(data))\n            f.write(data)","visibility":"show","key":"oXnSTGwKa0"},{"type":"output","id":"k1WqpXzDZ2pc_9hVOwvHK","data":[{"name":"stdout","output_type":"stream","text":"{\"description\":\"Product is not available yet, please try again using given updated location\",\"status\":\"accepted\",\"location\":\"https://hda.data.destination-earth.eu/stac/collections/EO.ECMWF.DAT.CAMS_EUROPE_AIR_QUALITY_REANALYSES/items/CAMS_EU_AIR_QUALITY_RE_20240401_20240418_5f267e4fcd5228c9714c086fa6f2592fa7bd57cc/download?_dc_qs=%257B%2522data_format%2522%253A%2B%2522zip%2522%252C%2B%2522level%2522%253A%2B%25225000%2522%252C%2B%2522model%2522%253A%2B%2522monarch%2522%252C%2B%2522month%2522%253A%2B%252203%2522%252C%2B%2522type%2522%253A%2B%2522interim_reanalysis%2522%252C%2B%2522variable%2522%253A%2B%2522sulphur_dioxide%2522%252C%2B%2522year%2522%253A%2B%25222023%2522%257D\u0026processID=cams-europe-air-quality-reanalyses\u0026type=process\u0026jobID=7651cb16-a68a-4715-be53-6e146503dd71\u0026status=accepted\u0026created=2024-12-23T22%3A39%3A45.832302\u0026updated=2024-12-23T22%3A39%3A45.832302\u0026links=%7B%27href%27%3A+%27https%3A%2F%2Fads.atmosphere.copernicus.eu%2Fapi%2Fretrieve%2Fv1%2Fprocesses%2Fcams-europe-air-quality-reanalyses%2Fexecution%27%2C+%27rel%27%3A+%27self%27%7D\u0026links=%7B%27href%27%3A+%27https%3A%2F%2Fads.atmosphere.copernicus.eu%2Fapi%2Fretrieve%2Fv1%2Fjobs%2F7651cb16-a68a-4715-be53-6e146503dd71%27%2C+%27rel%27%3A+%27monitor%27%2C+%27type%27%3A+%27application%2Fjson%27%2C+%27title%27%3A+%27job+status+info%27%7D\u0026metadata=datasetMetadata\u0026metadata=origin\u0026orderId=7651cb16-a68a-4715-be53-6e146503dd71\u0026provider=cop_ads\"}\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: accepted\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\norder status: running\ndownloading 553c60c19f8bc485560b5a9f0437995.zip\n"},{"name":"stderr","output_type":"stream","text":"100%|██████████| 875M/875M [04:28\u003c00:00, 3.27MB/s] \n"}],"visibility":"show","key":"QPgZQx1BhK"}],"visibility":"show","key":"kUmxyJ3KnD"}],"key":"NeTucB8N97"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"DEDL - HDA Tutorial","url":"/hda-rest-full-version","group":"HDA"},"next":{"title":"DEDL - HDA Tutorial - quick start","url":"/hda-rest-quick-start","group":"HDA"}}},"domain":"http://localhost:3001"},"project":{"title":"DEDL notebook gallery","id":"e0a20a08-c498-4ecc-8022-c5f820333f35","toc":[{"file":"README.md"},{"children":[{"file":"HDA/README.md"},{"children":[{"file":"HDA/PySTAC/HDA-PyStac-Client.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ExtremeDT-dataAvailability.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb"},{"file":"HDA/DestinE_Digital_Twins/ExtremeDT-ParameterPlotter.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE-Series.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES-Series.ipynb"},{"file":"HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE.ipynb"},{"file":"HDA/CDS_data/DEDL-HDA-EO.ECMWF.DAT.REANALYSIS_ERA5_SINGLE_LEVELS.ipynb"},{"file":"HDA/EODAG/HDA-EODAG-quick-start.ipynb"},{"file":"HDA/EODAG/HDA-EODAG-full-version.ipynb"},{"file":"HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb"},{"file":"HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.SENTINEL-3.OL_1_ERR___.ipynb"},{"file":"HDA/Fresh_Data_Pool/DEDL-HDA-EO.ESA.DAT.SENTINEL-1.L1_GRD.ipynb"},{"file":"HDA/Fresh_Data_Pool/DEDL-HDA-EO.ESA.DAT.SENTINEL-2.MSI.L2A.ipynb"},{"file":"HDA/REST/HDA-REST-full-version.ipynb"},{"file":"HDA/REST/HDA-REST-Queryables.ipynb"},{"file":"HDA/REST/HDA-REST-quick-start.ipynb"}],"file":"HDA/gallery.md"}],"title":"HDA"},{"children":[{"file":"HOOK/README.md"},{"children":[{"file":"HOOK/Tutorial.ipynb"},{"file":"HOOK/DEDL-Hook_access.ipynb"}],"file":"HOOK/gallery.md"}],"title":"HOOK"},{"children":[{"file":"STACK/README.md"},{"children":[{"file":"STACK/STACK-Python-Client-Dask.ipynb"},{"file":"STACK/STACK-Dask-101.ipynb"},{"file":"STACK/ExtremeDT-DataCube.ipynb"},{"file":"STACK/ExtremeDT-DataCube-xViewer.ipynb"},{"file":"STACK/DEDL_StackService_Dask.ipynb"}],"file":"STACK/gallery.md"}],"title":"STACK"}],"thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"HDA"},{"slug":"readme","title":"DestinE Harmonised Data Access (HDA)","description":"","date":"","thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery","title":"HDA Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hda-pystac-client","title":"HDA PySTAC-Client Introduction","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-dataavailability","title":"Extreme DT Data Availability","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-extremes","title":"Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"climatedt-parameterplotter","title":"DEDL - HDA Climate DT Parameter Plotter - Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-parameterplotter","title":"DEDL - HDA Extreme DT Parameter Plotter - Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-climate-series","title":"Destination Earth - Climate Change Adaptation Digital Twin Series Plot- Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-extremes-series","title":"Destination Earth - Weather-Induced Extremes Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-dt-climate","title":"Destination Earth - Climate Change Adaptation Digital Twin - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-ecmwf-dat-reanalysis-era5-single-level","title":"Destination Earth - ERA5 hourly data on single levels from 1940 to present - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-eodag-quick-start","title":"DEDL - EODAG - A quick start with DEDL","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-eodag-full-version","title":"DEDL - EODAG - DestinE Data Lake Provider (DEDL)","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-eum-dat-metop-avhrrl1","title":"Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-eum-dat-sentinel-3-ol-1-err","title":"Destination Earth - OLCI Level 1B Reduced Resolution - Sentinel-3 - Data Access using DEDL HDA","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-esa-dat-sentinel-1-l1-grd","title":"Example of Using HDA to Find and Download Data for Urban Area Monitoring Using Sentinel-1 Data","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hda-eo-esa-dat-sentinel-2-msi-l2a","title":"Example of how to use HDA to find and download data for conducting monitoring of Śniadrwy lake","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-full-version","title":"DEDL - HDA Tutorial","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-queryables","title":"DEDL - HDA Tutorial - Queryables","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"hda-rest-quick-start","title":"DEDL - HDA Tutorial - quick start","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"HOOK"},{"slug":"readme-1","title":"Hook Service","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-7dce7f54ac7e1a150619b7e67bfe7c9b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery-1","title":"HOOK Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial","title":"DEDL - Hook Tutorial - Data Harvest (data-harvest)","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-hook-access","title":"Access to Hook services","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"STACK"},{"slug":"readme-2","title":"STACK Service","description":"","date":"","thumbnail":"/build/DestinE-banner-312142494ba4070161ae60747da6bdb0.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gallery-2","title":"STACK Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"stack-python-client-dask","title":"STACK service - Python Client Dask","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stack-dask-101","title":"STACK service - Dask 101","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-datacube","title":"Data Cube populated with data obtained from Weather and Geophysical Extremes Digital Twin (DT) - ExtremeDT","description":"","date":"","thumbnail":"/build/b27bd30f978ddf0848f3ea0942070886.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"extremedt-datacube-xviewer","title":"Create a dashboard based on Data Cube populated with data obtained from Weather and Geophysical Extremes Digital Twin (DT) - ExtremeDT","description":"","date":"","thumbnail":"/build/13671a697054e05ccbcc105d371ab38b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dedl-stackservice-dask","title":"DestinE Data Lake - Stack Service Dask","description":"","date":"","thumbnail":"/build/9aaf3e76d727ec891c8c02168fe0567d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-2671EB98.js";
import * as route0 from "/build/root-LMCDRB6W.js";
import * as route1 from "/build/routes/$-SJYMRUNJ.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>